{% extends "base.html" %}

{% block title %}Empleados | Siscon{% endblock %}

{% block content %}
	<section class="section">
		<button class="btn btn-success col-xs-12">
			<span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>
			Nuevo
		</button>

		<table class="table table-striped">
			<thead>
				<tr>					
					<th>Departamento</th>
					<th>Area</th>
					<th>Cédula</th>
					<th>Nombre</th>
					<th>Email</th>
					<th>Activo</th>
					<th>Acciones</th>
				</tr>
			</thead>
			<tbody>
				{% for employee in object_list %}
				<tr>
					<td class="col-xs-2">{{ employee.area.department }}</td>
					<td class="col-xs-2">{{ employee.area }}</td>
					<td class="col-xs-1">{{ employee.charter }}</td>
					<td class="col-xs-3">{{ employee.user.first_name }} {{ employee.user.last_name }}</td>					
					<td class="col-xs-1">{{ employee.user.email }}</td>
					<td class="col-xs-1">{{ employee.user.is_active }}</td>				
					<td id="{{ employee.id }}" class="col-xs-2">
						<button class="btn btn-sm btn-default">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button>
						<button class="btn btn-sm btn-default">
							<span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
						</button>
					</td>
				</tr>
				{% empty %}
				<tr>
					<td colspan="10">'No existen registros'</td>
				</tr>
				{%endfor %}
			</tbody>
		</table>
	</section>	
{% endblock %}

{% block modal_title %}Datos de empleado{% endblock %}
{% block modal_content %}
	<ul class="nav nav-tabs" role="tablist">
	    <li role="presentation" class="active">
	    	<a href="#personal" aria-controls="personal" role="tab" data-toggle="tab">Datos personales</a>
	    </li>
	    <li role="presentation">
	    	<a href="#company" aria-controls="company" role="tab" data-toggle="tab">Datos de empresa</a>
	    </li>
	    <li role="presentation">
	    	<a href="#session" aria-controls="session" role="tab" data-toggle="tab">Datos de sesión</a>
	    </li>
	</ul>
	  
	<div class="tab-content">
		<div role="tabpanel" class="tab-pane active" id="personal">
	    	<div class="form-horizontal">						    		
		    	<div class="form-group">
				    <label for="inputCharter" class="col-md-3 control-label">Cédula</label>
				    <div class="col-md-9">
				        <input id="inputCharter" type="text" name="charter" class="form-control" placeholder="Cédula de empleado" req="true">
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputFirstName" class="col-md-3 control-label">Nombres</label>
				    <div class="col-md-9">
				        <input id="inputFirstName" type="text" name="first_name" class="form-control" placeholder="Nombre del empleado" req="true">
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputLastName" class="col-md-3 control-label">Apellidos</label>
				    <div class="col-md-9">
				        <input id="inputLastName" type="text" name="last_name" class="form-control" placeholder="Apellidos del empleado" req="true">
				    </div>
				</div>
	    	</div>
	    </div>					    
	    <div role="tabpanel" class="tab-pane" id="company">
	    	<div class="form-horizontal">						    		
		    	<div class="form-group">
				    <label for="inputDepartment" class="col-md-3 control-label">Departamento</label>
				    <div class="col-md-9">
				        <select id="inputDepartment" type="select" name="department" class="form-control selectpicker" data-size="10" data-live-search="true" req="true"> 
				        	<option value="">--- Seleccionar ---</option>
				        	{% for department in departments %}
				        	<option value="{{ department.id }}">{{ department.name }}</option>
				        	{% endfor %}
				        </select>
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputArea" class="col-md-3 control-label">Area</label>
				    <div class="col-md-9">
				        <select id="inputArea" type="select" name="area" class="form-control selectpicker" data-size="10" data-live-search="true" req="true">
				        	<option value="">--- Seleccionar ---</option>
				        </select>
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputJob" class="col-md-3 control-label">Cargo</label>
				    <div class="col-md-9">
				        <select id="inputJob" type="select" name="job" class="form-control selectpicker" data-size="10" data-live-search="true" req="true">
				        	<option value="">--- Seleccionar ---</option>
				        	{% for job in jobs %}
				        	<option value="{{ job.id }}">{{ job.name }}</option>
				        	{% endfor %}
				        </select>
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputExtension" class="col-md-3 control-label">Extensión</label>
				    <div class="col-md-9">
				        <input id="inputExtension" type="text" name="extension" class="form-control" placeholder="Extensión del empleado">
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputIsHead" class="col-md-3 control-label">Jefe de</label>
				    <div class="col-md-9" id="inputIsHead" type="radio" name="is_head">
				        <label class="radio-inline">
						 	<input type="radio" name="optIsHead" value="0"> Ninguno
						</label>
						<label class="radio-inline">
							<input type="radio" name="optIsHead" value="1"> Departamento
						</label>
						<label class="radio-inline">
							<input type="radio" name="optIsHead" value="2"> Area
						</label>
				    </div>
				</div>								
				<div class="form-group">
				    <label for="inputDateJoined" class="col-md-3 control-label">Ingreso</label>
				    <div class="col-md-9">
				        <input id="inputDateJoined" type="text" name="date_joined" class="form-control datepicker" req="true">
				    </div>
				</div>																		
	    	</div>
	    </div>	    
	    <div role="tabpanel" class="tab-pane" id="session">
	    	<div class="form-horizontal">						    		
		    	<div class="form-group">
				    <label for="inputEmail" class="col-md-3 control-label">Email</label>
				    <div class="col-md-9">
				        <input id="inputEmail" type="text" name="email" class="form-control" placeholder="Email del empleado" req="true">
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputUsername" class="col-md-3 control-label">Usuario</label>
				    <div class="col-md-9">
				        <input id="inputUsername" type="text" name="username" class="form-control" placeholder="Usuario del empleado" req="true">
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputPassword" class="col-md-3 control-label">Password</label>
				    <div class="col-md-9">
				        <input id="inputPassword" type="password" name="password" class="form-control" placeholder="Password del empleado" req="true">
				    </div>
				</div>
				<div class="form-group">
				    <label for="inputActive" class="col-md-3 control-label">Activo</label>
				    <div class="col-md-9">									        
						<div class="checkbox">
						    <label>
						     	<input id="inputActive" type="checkbox" name="is_active">
						    </label>
						</div>
				    </div>
				</div>
	    	</div>
	    </div>						    						   
	</div>
{% endblock %}

{% block imports%}
	{% load staticfiles %}
	<script src="{% static 'libs/js/bootstrap-select.min.js' %}"></script>
	<script src="{% static 'libs/js/bootstrap-datepicker.min.js' %}"></script>
	<script src="{% static 'structure/js/employees.js' %}"></script>
{% endblock%}