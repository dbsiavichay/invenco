{% extends 'base.html' %}
{% load static %}
{% load components %}		

{% block title %}Asignar equipos{% endblock %}


{% block content %}
<div class="panel">
	<div class="panel-body">		

		<form action="" method="POST" enctype="multipart/form-data">
			{% csrf_token %}			

			{{ form.errors }}
			<input type="hidden" name="employee" value="{{ object.employee }}">
			<input type="hidden" name="department" value="{{ object.department|floatformat:'0' }}">
			<input type="hidden" name="building" value="{{ object.building.id }}">

			<div class="form-group">
			    <label>Empleado</label>			    
				<input type="text" value="{{ object.get_employee }}" class="form-control" readonly="true">
			</div>
			<div class="form-group">
			    <label>Departamento</label>
				<input type="text" value="{{ object.get_department }}" class="form-control" readonly="true">
			</div>
			<div class="form-group">
			    <label>Edificio</label>
				<input type="text" value="{{ object.building }}" class="form-control" readonly="true">
			</div>
			
			{% render_field form.equipments class="form-control" %}			
			<button type="submit" class="btn btn-primary">
				<i class="fa fa-check"></i> Guardar
			</button>
		</form>		
	</div>
</div>
{% endblock %}

{% block css %}
<link rel="stylesheet" type="text/css" href="{% static 'new/plugins/choices/choices.css' %}">
{% endblock %}
{% block js %}
<script type="text/javascript" src="{% static 'new/plugins/choices/choices.js' %}"></script>
<script type="text/javascript">
	window.addEventListener('DOMContentLoaded', function () {
		var inputEquipments = document.getElementById('id_equipments');
		var choices = new Choices(inputEquipments, {
			removeItemButton: true,
		});
	});
</script>
{% endblock %}