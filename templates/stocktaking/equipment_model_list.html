{% extends 'base.html' %}

{% load ui_components %}
{% load staticfiles %}

{% block page_title %}Equipos{% endblock %}

{% block content %}
<div class="row">
	<div class="col-xs-12">
      	<div class="card">
        	<div class="card-header">Listado</div>
        	<div class="card-body">
        		{% include "partials/pagination.html" %}
        		<div class="text-center">
	        		<a href="{% url 'equipment_list' %}" class="btn btn-default btn-xs">Equipos</a>
	        		<a href="{% url 'equipment_model_list' %}" class="btn btn-success btn-xs">Modelos</a>
	        		<a href="{% url 'equipment_set_list' %}" class="btn btn-default btn-xs">Conjuntos</a>
		        </div>
        		
			    <table class="table">
				    <thead>
				        <tr>				          
				          <th>Tipo</th>
				          <th>Marca</th>
				          <th>Nombre</th>
				          <th>Especificaciones</th>
				          <th>Existencias</th>				          
				        </tr>
				    </thead>
				    <tbody>
				    	{% for model in object_list %}
				        <tr>					        
					        <td>{{ model.type }}</td>
					        <td>{{ model.brand }}</td>
					        <td>{{ model.name }}</td>
					        <td>
					        	<ul>
					        		{% for key, value in model.get_specifications %}
					        		<li>{{ key }}: <strong>{{ value }}</strong></li>
					        		{% endfor %}
					        	</ul>
					        </td>
					        <td>{{ model.get_equipment_count }}</td>					        
				        </tr>
				        {% empty %}
				        <tr colspan="5"><td>"Sin registros."</td></tr>
				        {% endfor %}
				    </tbody>
			    </table>
			    {% include "partials/pagination.html" %}
        	</div>
        </div>
    </div>
</div>

{% include "partials/delete-modal.html" %}

<div class="btn-floating" id="help-actions">
	<div class="btn-bg"></div>
	<a href="/equipment/add/select-type/" class="btn btn-default btn-toggle">
		<i class="icon fa fa-plus"></i>
	</a>        
</div>
{% endblock %}

{% block customjs %}
{% load staticfiles %}
<script src="{% static 'stocktaking/custom.js' %}"></script>
{% endblock %}